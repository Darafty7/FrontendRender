{"version":3,"file":"js/420.8bef4134.js","mappings":"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","sources":["webpack://sintapujos/./src/components/DashboardaprendizEnfermera/EventosEnfermeraComp.vue","webpack://sintapujos/./src/components/DashboardaprendizEnfermera/EventosEnfermeraComp.vue?2d8d"],"sourcesContent":["<template>\r\n    <div>\r\n        <input type=\"file\" @change=\"subirImagen\">\r\n        <button @click=\"obtenerImagenes\">Obtener Imágenes</button>\r\n    </div>\r\n    <div>\r\n        <h1>Imágenes</h1>\r\n\r\n        <div class=\"container\">\r\n\r\n            <table class=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col\">Id</th>\r\n                        <th scope=\"col\">Nombre</th>\r\n                        <th scope=\"col\">Img</th>\r\n                        <th scope=\"col\">Eliminar</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"imagen in imagenes\" :key=\"imagen.id\">\r\n                        <th>{{ imagen.idEvento }}</th>\r\n                        <td>{{ imagen.nombre }}</td>\r\n                        <th> <img :src=\"imagenUrl(imagen)\" alt=\"\" width=\"70\" height=\"70\"> </th>\r\n                        <td>\r\n                            <!-- <button onclick=\"eliminarImagene(imagen.idEvento)\" type=\"button\" class=\"btn btn-secondary\">Eliminar</button> -->\r\n                            <input type=\"button\" value=\"eliminar\" class=\"btn btn-secondary\"\r\n                                @click=\"eliminarImagen(imagen.idEvento)\">\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Swal from 'sweetalert2';\r\nimport axios from \"axios\";\r\nexport default {\r\n    name: 'EventosEnfermeraComp',\r\n    data() {\r\n        return {\r\n            imagenes: []\r\n        };\r\n    },\r\n    methods: {\r\n        async subirImagen(event) {\r\n            const file = event.target.files[0];\r\n\r\n            // Verificar si se seleccionó un archivo y si es una imagen\r\n            if (file && file.type.startsWith('image/')) {\r\n                const formData = new FormData();\r\n                formData.append('imagen', file);\r\n\r\n                try {\r\n                    const response = await fetch('http://localhost:4000/imagen', {\r\n                        method: 'POST',\r\n                        body: formData\r\n                    });\r\n\r\n                    if (response.ok) {\r\n                        // Procesar la respuesta si es necesario\r\n                        // Por ejemplo, mostrar un mensaje de éxito y actualizar la lista de imágenes llamando a obtenerImagenes()\r\n\r\n\r\n                    } else {\r\n                        console.error('Error al subir la imagen');\r\n\r\n                    }\r\n                } catch (error) {\r\n                    console.error(error);\r\n                }\r\n            }\r\n        },\r\n        async obtenerImagenes() {\r\n            try {\r\n                const response = await fetch('http://localhost:4000/imagenes');\r\n                if (response.ok) {\r\n                    const data = await response.json();\r\n                    this.imagenes = data;\r\n\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Oops...',\r\n                    text: 'Something went wrong!',\r\n                    footer: '<a href=\"\">Why do I have this issue?</a>'\r\n                })\r\n            }\r\n        },\r\n        async eliminarImagen(idEvento) {\r\n\r\n            await axios.delete('http://localhost:4000/evento/' + idEvento)\r\n                .then((response) => {\r\n                    console.log(response);\r\n                    this.$swal.fire({\r\n                        position: \"top-center\",\r\n                        icon: \"success\",\r\n                        title: \"evento eliminado correctamente.\",\r\n                        showConfirmButton: false,\r\n                        timer: 1500,\r\n                    });\r\n                })\r\n\r\n\r\n        },\r\n        imagenUrl(imagen) {\r\n            if (imagen && imagen.imagen && imagen.imagen.data) {\r\n                const imageBuffer = new Uint8Array(imagen.imagen.data);\r\n                const base64Image = btoa(String.fromCharCode.apply(null, imageBuffer));\r\n                return `data:image/jpg;base64,${base64Image}`;\r\n            }\r\n            return ''; // Devuelve una cadena vacía si no hay imagen o datos de imagen válidos\r\n        }\r\n    },\r\n    mounted() {\r\n        this.obtenerImagenes();\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./EventosEnfermeraComp.vue?vue&type=template&id=97493958\"\nimport script from \"./EventosEnfermeraComp.vue?vue&type=script&lang=js\"\nexport * from \"./EventosEnfermeraComp.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\angel\\\\OneDrive\\\\Escritorio\\\\CS\\\\SinTapujosjunio2023\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","scope","type","onChange","_cache","args","$options","subirImagen","onClick","obtenerImagenes","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createElementBlock","_Fragment","_renderList","$data","imagenes","imagen","key","id","_toDisplayString","idEvento","nombre","src","imagenUrl","alt","width","height","value","$event","eliminarImagen","name","data","methods","async","event","file","target","files","startsWith","formData","FormData","append","response","fetch","method","body","ok","console","error","json","this","log","Swal","icon","title","text","footer","axios","then","$swal","fire","position","showConfirmButton","timer","imageBuffer","Uint8Array","base64Image","btoa","String","fromCharCode","apply","mounted","__exports__","render"],"sourceRoot":""}